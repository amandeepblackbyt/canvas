
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Vue Simple PWA</title>

  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
</head>
<body>
<div id="app">


  <div class="h-screen w-full">

    <div class="design-preview w-full h-4/5 relative">
      <div class="flex justify-center items-center h-full">
        <div
          class="canvas-image relative w-full rounded-xl"
          ref="capture"
          id="capture"
        >
          <!-- <img
            src="ee.jpg"
            style="width: 300px;"
            ref="preview"
          /> -->
          <div style="background-color: aqua;color: white;padding: 40px;">hello canvas</div>
        </div>
      </div>

      <div class="fixed bottom-5 left-0 right-0 flex justify-center">
        <button
          class="
            bg-blue-800
            text-white
            py-4
            px-7
            rounded-full
            focus:outline-none
            shadow-lg
            center
            text-xs
            uppercase
            flex
            gap-2
            items-center
          "
          @click="saveCanvas()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-2"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
            />
          </svg>
          <span>Download</span>
        </button>
      </div>
    </div>
  </div>
</div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js" integrity="sha512-OqcrADJLG261FZjar4Z6c4CfLqd861A3yPNMb+vRQ2JwzFT49WT4lozrh3bcKxHxtDTgNiqgYbEUStzvZQRfgQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 <script>
 var app = new Vue ({
   el: '#app',
   data: {
     message: 'Hello World',
     color: '#ccc'
   },
   methods: {
     saveCanvas(){
       html2canvas(document.querySelector("#capture")).then(
            canvas => {
           let a = document.createElement("a");
            a.href = canvas.toDataURL("image/jpg");
            a.download = "graphic";
            a.click();
            a.remove();
          // let image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
          // console.log(image);
          // window.location.href = image;
          });
     }
   }
 })
       
  </script>
</body>
</html>
